
<div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="100" >

  <div fxLayout="row wrap" fxLayoutAlign="center start" fxFlex.xs="100"  fxFlex="85" class="shadow" style=" background-color: rgb(248, 248, 248); margin-top: 5px; padding-bottom: 35px;" >


      <h4 class="font mt-30" style="text-align: center; margin-bottom: 30px; margin-top: 50px;" fxFlex="97"><b>Seleccioná las charlas que te interesen</b></h4>

        <!-- start selected cards -->
        <div fxLayout="row wrap"  fxLayoutAlign="center center" style="margin-top: 50px; z-index: 999;" *ngIf="quantity !== 0" fxFlex="100" >

            <div fxLayout="row wrap" fxLayoutAlign="space-between center"  fxFlex.xs="95" fxFlex.sm="80" fxFlex="80"  class="whiteframe  selectedCardLabel" >
                <div fxLayout="row wrap"  fxLayoutAlign="start center" fxFlex="60" >
                  <span class="material-icons" style="color: white;"> check_circle_outline </span> 
                  <span class="font " style="color: white; text-align: start; font-size: 1em; margin-left: 10px;">{{quantity}} conferencia</span>
                </div>  
                <!-- (click)="saveTalks()" -->
                <div fxLayout="row wrap"  fxLayoutAlign="end center" fxFlex="40" data-bs-toggle="offcanvas" href="#form" role="button" aria-controls="offcanvasExample" >
                  <span class="font" style="color: white; font-size: 1.1m; text-align: end;" >Continuar</span>
                  <span class="material-icons notranslate">chevron_right</span>
                </div>
          </div>
      </div>
        <!-- end selected-cards -->

      
     <ng-container *ngFor="let talk of talks, let i" >     
    
      <!-- start card -->

          <div fxLayout="row wrap" fxLayoutAlign="start center"   [ngClass]="i.class == true ? 'selectedFrame':'card'" style="margin-top: 80px;" >

              <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxFlex="100" style="padding: 10px;" >
                  <span class="card-title font" style="font-size: 0.9em; width: 80%;"><b>{{talk.subject}}</b></span> 
                  <span class="material-icons notranslate " style="cursor: pointer;" (click)="delCard(talk)" *ngIf="talk.class">close</span>
              </div>

              <div fxLayout="row wrap"  fxLayoutAlign="space-between center" fxFlex="100">
                  <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="60">
                    <span class=" material-icons notranslate">alarm_on</span> &nbsp;&nbsp;
                    <span>{{talk.time}}</span>
                  </div>
                  <div fxLayout="row wrap"  fxLayoutAlign="end center" fxFlex="40" >
                    <span class=" material-icons notranslate" style="transform: scale(1.3);">groups</span> &nbsp;&nbsp;
                    <span class="card-text font"> {{talk.participantes}}</span> <br>
                  </div>
              </div>
          </div>
          
          <div fxLayout="row wrap" fxLayoutAlign="space-between start" class="baseCard shadow"  >
            <span class="card-text font" style="color: rgb(133, 133, 133); text-align: start; padding: 5px;" fxFlex="50">Disertante <br><b style="color: black;">{{talk.speaker}}</b></span> 
            <span class="card-text font" style="color: rgb(133, 133, 133); text-align: start; padding: 5px;"  fxFlex="50" > Perfil <br><b style="color: black;">{{talk.perfil}}</b></span> 

            <div fxLayout="row wrap" fxLayoutAlign="space-between center" fxFlex="100" style="margin-top: 10px; margin-bottom: 20px;">
            
              <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="50" style="padding: 5px;">
                  <span class="material-icons notranslate" style="color: rgb(103, 103, 103);">home</span> &nbsp;&nbsp; <span style="color: black;">{{talk.location}} </span>
              </div>    

              <button type="button" class="btn btn-sm shadow font"  [ngStyle]="{'background-color': i.class ? 'green' : 'rgb(10, 143, 238)'}"   style=" color: white; border-radius: 9px; padding: 8px;max-width: 100px; margin-right: 10px;" (click)="selectCard(talk)">Inscribirme</button>
              
            </div>
          </div>
    </ng-container>

 


   </div> 
</div> 

<div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="100" *ngIf="selectedTalks" class="loading-overlay">

    <div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex.xs="97" fxFlex.sm="70" fxFlex="50" style="background-color: white; border-radius: 12px; padding: 20px; border: 4px solid rgb(14, 121, 198);">
      <span class="font" style="font-size: 1.1em; text-align: center;"> Luego de seleccionar las charlas que te interesen, recuerda presionar el botón de "Continuar" </span>
      <img src="assets/banner-phone.gif" alt="banner" fxFlex.xs="100" fxFlex.sm="80" fxFlex="60"> 

      <div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="100">
        <button type="button" class="btn btn-sm shadow font"  style="color: white; border-radius: 9px; padding: 8px; width: 120px; margin-right: 10px; background-color: rgb(10, 143, 238);" (click)="continue()">Continuar</button>
     </div>

  </div>
</div>


<!-- form -->

<div class="offcanvas offcanvas-start" tabindex="-1" id="form" aria-labelledby="offcanvasExampleLabel">
  <!-- <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div> -->
  <div class="offcanvas-body">

    <div fxLayout="row wrap" fxLayoutAlign="center start" fxFlex="100">
    
    
      <div  fxLayout="row wrap"  fxLayoutAlign="start center" fxFlex="100" style="height: 60px; background-color: rgb(37, 150, 190); color: white; padding: 10px; box-shadow: 0px 6px 5px 0px rgba(140,139,139,0.75); -webkit-box-shadow: 0px 6px 5px 0px rgba(140,139,139,0.75);
        -moz-box-shadow: 0px 6px 5px 0px rgba(140,139,139,0.75);" >
            
            <div fxLayout="row wrap"  fxLayoutAlign="start center" fxFlex="100" style="margin-top: 5px;">
              <!-- <span class="material-symbols-outlined notranslate cursor" >arrow_back_ios</span> -->
              <span class="font fs-6 ml-10" fxFlex="90">Inscribirse</span>
            </div>
            
      </div>
                
      <form  [formGroup]="myForm"  fxLayout="row wrap" fxLayoutAlign="center center"  fxFlex="90" style="  margin-top: calc(100vh - 85vh); border: 1px solid rgb(197, 197, 197); border-radius: 10px; padding: 10px;" novalidate>     
          
  
          <div class="form-floating mb-3" fxFlex="90" style="margin-top: 30px;" >
              <input type="text" class="form-control" id="floatingInput" required formControlName="fullName">
              <label for="floatingInput" class="font">Nombre completo</label>
              <div *ngIf="validField('fullName')" style="color: red" class="font"> Dato requerido </div>
          </div>

          
          <div class="form-floating mb-3" fxFlex="90" style="margin-top: 30px;" >
            <select class="form-select" formControlName="type" required >
              <!-- <option selected></option> -->
              <option value="student">Estudiante</option>
              <option value="teacher">Profesor</option>
            </select>
            <div *ngIf="validField('type')" style="color: red" class="font"> Dato requerido </div>
        </div>

  
         
          
          <button type="button" fxLayout="row wrap" fxLayoutAlign="center center" [ngClass]="confirm ? 'btnMenuClicked':'btnMenu'" style="margin-top: 80px; margin-bottom: 40px;" fxFlex="90"  (click)="onSaveForm()" data-bs-dismiss="offcanvas" aria-label="Close">  Inscripción
          </button>
  
      </form>
  
        
      
    </div>
  
   
  </div>
</div>

<!-- end form -->

<div *ngIf="isLoading" style="margin-top: 30px;" class="loading-overlay">
    <div class="spinner-grow text-primary" role="status">
      <span class="visually-hidden"></span>
    </div>
</div>